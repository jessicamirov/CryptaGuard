<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Self-Encryption - WhisperSend</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f5f7fa;
            color: #333;
        }
        .header {
            background-color: #2d3748;
            color: #fff;
        }
        .footer {
            background-color: #2d3748;
            color: #fff;
        }
        .main-section {
            background-color: #fff;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        .square {
            width: 48%;
            height: 200px;
            background-color: #edf2f7;
            display: inline-block;
            vertical-align: top;
            margin-right: 20px;
            margin-bottom: 20px;
            padding: 20px;
            text-align: center; 
            position: relative; 
        }
        .square h2 {
            font-size: 1.5rem;
            margin-bottom: 10px;
        }
        button {
            background-color: #6cb2eb;
            padding: 12px 20px;
            border-radius: 30px;
            border: none;
            color: #fff;
            font-weight: bold;
            text-transform: uppercase;
            cursor: pointer;
        }
        .error-message {
            background-color: #f56565;
            color: #fff;
            padding: 10px 20px;
            border-radius: 8px;
            position: absolute;
            bottom: -40px; 
            left: 50%;
            transform: translateX(-50%);
            display: none; 
        }
    </style>
</head>
<body>
    <header class="header py-4">
        <div class="container mx-auto flex items-center justify-between">
            <h1 class="text-3xl font-bold">WhisperSend</h1>
            <nav class="mt-2">
                <a href="#" class="mr-4">Home</a>
                <a href="#" class="mr-4">Information</a>
            </nav>
        </div>
    </header>

    <div class="container mx-auto mt-8">
        <div class="self-encryption-section p-8 rounded-md shadow-md">
            <h2 class="text-xl font-bold mb-4">Self-encryption</h2>
            <div class="square">
                <h3 class="text-lg font-semibold mb-2">Encrypt a file and save it on your computer</h3>
                <input type="file" id="fileToEncrypt" class="form-file mb-2">
                <button id="encryptAndSaveBtn" class="form-btn bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mb-2">Encrypt & Save</button>
                <p id="encryptionSuccessMsg" class="text-green-500 hidden">File encrypted successfully!</p>
                <button id="downloadEncryptedFileBtn" class="form-btn bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mb-2 hidden">Download Encrypted File</button>
                <button id="downloadKeysBtn" class="form-btn bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mb-2 hidden">Download Keys</button>
            </div>
            <div class="square">
                <h3 class="text-lg font-semibold mb-2">Upload an encrypted file and decrypt</h3>
                <input type="file" id="uploadEncryptedFile" name="uploadEncryptedFile" class="form-file mb-2">
                <input type="text" id="encryptionKey" name="encryptionKey" placeholder="Encryption Key" class="form-input w-full border-gray-300 rounded-lg py-2 px-4 mb-2">
                <button id="decryptBtn" class="form-btn bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg mb-2">Decrypt</button>
                <p id="noFileError" class="text-red-500 hidden">Please select a file!</p>
                <p id="decryptionErrorMsg" class="text-red-500 hidden">Decryption failed! Invalid key.</p>
                <p id="decryptionNote" class="error-message">Error: Unsupported file type</p>
            </div>
        </div>
    </div>

    <footer class="footer bg-gray-800 text-white p-4 mt-8">
    </footer>

    <script>
        document.getElementById('encryptAndSaveBtn').addEventListener('click', function() {
            document.getElementById('encryptionSuccessMsg').classList.remove('hidden');
            document.getElementById('downloadEncryptedFileBtn').classList.remove('hidden');
            document.getElementById('downloadKeysBtn').classList.remove('hidden');
        });

        document.getElementById('decryptBtn').addEventListener('click', function() {
            document.getElementById('noFileError').classList.add('hidden');
            document.getElementById('decryptionErrorMsg').classList.remove('hidden');
        });

        function displayEncryptionErrorMessage(message) {
            const errorMessageContainer = document.createElement('div');
            errorMessageContainer.classList.add('error-message');
            errorMessageContainer.textContent = message;
            document.getElementById('decryptionNote').appendChild(errorMessageContainer);
            document.getElementById('decryptionNote').style.display = 'block';
        }

        displayEncryptionErrorMessage("Error: Unsupported file type");
    </script>
</body>
</html>
